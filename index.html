

<!DOCTYPE html>
<html>
<head>
	<title>1500 English</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>


  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>

</head>


<body ng-app="myApp">
    <div ng-controller="ctrl" class="container mt-4">
    <h1 class="mb-4">1500 words</h1>
		<div class="card mt-4" ng-repeat="word in words" ng-if="false">
		    <div class="card-body">
	          <div class="card-text my-4"><span class="font-weight-bold mr-4">{{word.word}}</span>
	           	<span class="mr-4 font-italic">{{word.mean}}</span>
	           	<span class="mr-4">{{word.us}}</span>

	            <span ng-repeat="type in word.types" class="mx-1 px-2 lead"
	            ng-class="type == 'adj' ? 'bg-warning' : (type == 'adv' ? 'bg-danger' : (type == 'v' ? 'bg-success' : 'bg-info'))">{{type}}</span>

		        <button class="btn btn-primary mx-4" 
		         		 ng-click="sayIt(word.word)">
		          		<span class="glyphicon glyphicon-headphones"></span>
		      	</button>
	          </div>
	          <div class="card-text text-justify" 
	              ng-repeat="exam in word.examples"><button ng-click="sayIt(exam)" class="ml-2 btn btn-link glyphicon glyphicon-headphones"></button> {{exam}}
	          </div>
	          <a href="https://dictionary.cambridge.org/dictionary/english/{{word.word}}"
	          class="btn btn-primary mt-1 float-right"><span class="mr-4 glyphicon glyphicon-menu-right"></span>Cambridge</a>
        	</div> 		<!-- card-body -->
		 </div> <!-- card -->

		<!-- <button class="btn btn-primary my-3" ng-click="reLoadQuiz()"> Reload </button> -->
		<span class="font-weight-bold">Point:</span> <span class="ml-4 text-danger">{{point}}</span>

		 <div class="mt-4">
		 	<span class="mb-4 mr-4 font-weight-bold">{{quiz.question.word}}</span>  
		 	<span ng-repeat="type in quiz.question.types" class="mx-1 px-2 lead"
	            ng-class="type == 'adj' ? 'bg-warning' : (type == 'adv' ? 'bg-danger' : (type == 'v' ? 'bg-success' : 'bg-info'))">{{type}}</span>
			<form class="mt-4">
			  <div class="custom-control custom-radio my-3" ng-repeat="choice in quiz.choices" >
			    <input type="radio" class="custom-control-input" id="{{choice}}" value="{{$index}}" ng-model="x" ng-change="checkAnwser(choice.word)">
			    <label class="custom-control-label" for="{{choice}}">{{choice.mean}}</label>
			  </div>
			</form>
		 </div>
    </div> <!-- container -->
</body>

<script type="text/javascript">
    var app = angular.module("myApp", []);
    app.controller("ctrl", function($scope) {

     $scope.quiz = {};
     $scope.point = 0;

    $scope.words = [
        {word: "additional", us: /əˈdɪʃ·ə·nəl/, types: ["adj"], mean: "bổ sung", examples: ["There will be an extra charge for any additional passengers.", "The doctor has made an initial diagnosis, but there'll be an additional examination by a specialist."]},
        {word: "admit", us: /ədˈmit/, types: ["v"], mean: "thừa nhận", examples: ["He admitted his mistake."]},
        {word: "agree", us: /əˈɡriː/, types: ["v"], mean: "đồng ý", examples: ["I agree with you on this issue."]},
        {word: "announce", us: /əˈnaʊns/, types: ["v"], mean: "thông báo", examples: ["They announced the death of their mother in the local paper.", "She announced the winner of the competition to an excited audience."]},
        {word: "apologize", us: /əˈpɑː.lə.dʒaɪz/, types: ["v"], mean: "xin lỗi", examples: ["She apologized profusely for having to leave at 3.30 p.m. "]},
        {word: "approve", us: /əˈpruːv/, types: ["v"], mean: "tán thành", examples: ["She doesn't approve of my friends.", "He doesn't approve of smoking.", "I thoroughly approve of what the government is doing."]},
        {word: "argue", us: /ˈɑːrɡ.juː/, types: ["v"], mean: "tranh luận", examples: ["The children are always arguing.","Kids, will you stop arguing with each other?"]},
        {word: "blame", us: /bleɪm/, types: ["v"], mean: "khiển trách", examples: ["Hugh blames his mother for his lack of confidence."]},
        {word: "brief", us: /briːf/, types: ["adj","adv","v"], mean: "tóm tắt", examples: ["His acceptance speech was mercifully brief.", "We had already been briefed about/on what the job would entail."]},
        {word: "brochure", us: /broʊˈʃʊr/, types: ["n"], mean: "cuốn sách nhỏ", examples: ["Enclosed is a brochure that highlights the benefits that you can receive as a corporate donor."]},
        {word: "certain", us: /ˈsɝː.tən/, types: ["adv"], mean: "chắc chắn", examples: ["The police seem certain that they will find the people responsible for the attack."]},
        {word: "comma", us:  /ˈkɑː.mə/, types: ["n"], mean: "dấu phẩy", examples: ["We usually put a comma after thousands in numbers."]},
        {word: "complaint", us:  /ˈkɑː.mə/, types: ["n"], mean: "lời phàn nàn", examples: ["We've received a complaint from one of our listeners about offensive language."]},
	   ];

	$scope.sayIt = function (theText) {
		Speech = new SpeechSynthesisUtterance(theText);
	    window.speechSynthesis.speak(Speech);
	};

	$scope.rdQuiz = function () {
		var rand = Math.random() *  ($scope.words.length - 1);
		return Math.floor(rand);
	};

	$scope.rdInRange = function (min, max) {
		var rand = min + Math.random() *  (max - min);
		return Math.floor(rand);
	};

	$scope.shuffle = function(array) {
	  	var currentIndex = array.length,  randomIndex;

	  // While there remain elements to shuffle.
	  while (currentIndex != 0) {

	    // Pick a remaining element.
	    randomIndex = Math.floor(Math.random() * currentIndex);
	    currentIndex--;

	    // And swap it with the current element.
	    [array[currentIndex], array[randomIndex]] = [
	      array[randomIndex], array[currentIndex]];
	  }

	  	return array;
	}


     $scope.checkAnwser = function (word) {
     	console.log("Radio Selected Word = " + word);
     	if ($scope.quiz.question.word == word)
     	{
     		console.log("Bingo");
     		$scope.point++;
     		$scope.sayIt("Perfect");
     	}
     	else
     	{
     		$scope.point--;
     		$scope.sayIt("Wrong");
     	}
     	$scope.reLoadQuiz();
     };

     $scope.reLoadQuiz = function () {
     	$scope.quiz = {};
     	var rand1, rand2, rand3, rand4;
      	rand1 = $scope.rdQuiz(0, 1);
  		do { rand2 = $scope.rdQuiz(); } while (rand2 == rand1);
  		do { rand3 = $scope.rdQuiz(); } while (rand3 == rand2 || rand3 == rand1);
  		do { rand4 = $scope.rdQuiz(); } while (rand4 == rand3 || rand4 == rand2  || rand4 == rand1);
  		var rdOrder = $scope.rdInRange(0, 3);
  		console.log(rand1, rand2, rand3, rand4)
  		console.log("AnwserIdx = " + rdOrder)
  		if (rdOrder==0)
  		{
  			$scope.quiz.question = $scope.words[rand1];
  			$scope.quiz.choices = [$scope.words[rand1], $scope.words[rand2], $scope.words[rand3], $scope.words[rand4]];
  		}
  		else if (rdOrder==1)
  		{
  			$scope.quiz.question = $scope.words[rand2];
  			$scope.quiz.choices = [$scope.words[rand2], $scope.words[rand1], $scope.words[rand3], $scope.words[rand4]];
  		}
  		else if (rdOrder==2)
  		{
  			$scope.quiz.question = $scope.words[rand3];
  			$scope.quiz.choices = [$scope.words[rand3], $scope.words[rand1], $scope.words[rand2], $scope.words[rand4]];
  		}
  		else if (rdOrder==3)
  		{
  			$scope.quiz.question = $scope.words[rand4];
  			$scope.quiz.choices = [$scope.words[rand4], $scope.words[rand1], $scope.words[rand2], $scope.words[rand3]];
  		}
  		$scope.shuffle($scope.quiz.choices)
     };

    $scope.reLoadQuiz();

  
    
    });
</script>
</html>




